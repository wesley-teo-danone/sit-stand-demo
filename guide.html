<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sit2Scan Guide - Step by Step Instructions" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rethink+Sans:ital,wght@0,400..800;1,400..800&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <title>Sit2Scan Guide</title>
    <style>
        .guide-header {
            font-size: 3rem;
            color: #1b3259;
            font-weight: bold;
            text-align: center;
            margin-bottom: 1rem;
        }

        .guide-content {
            font-size: 1.25rem;
            color: #555;
            text-align: center;
            margin-bottom: 2rem;
            width: 80%;
            max-width: 560px;
            margin-left: auto;
            margin-right: auto;
        }

        .guide-image {
            display: block;
            margin: 0 auto 2rem auto;
            max-width: 280px;
            height: clamp(140px, 30vh, 280px);
            width: auto;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(50, 71, 194, 0.10);
            background: #fff;
            object-fit: contain;
            border: 4px solid #008a7a
        }

        .guide-btn {
            display: block;
            margin: 0 auto 3rem auto;
            background-color: #2c79eb;
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 8px;
            font-size: 1.25rem;
            font-weight: bold;
            box-shadow: 0 4px 16px rgba(50, 71, 194, 0.10);
        }

        .guide-btn:hover {
            background-color: #2360bc;
        }
    </style>
</head>

<body>
    <header class="page-header">
        <a href="index.html" class="logo-brand" aria-label="Danone">
            <img src="assets/logo.svg" alt="Danone Logo" />
        </a>
    </header>
    <div id="guideStep">
        <div class="guide-header" id="guideHeader">Welcome to Sit2Scan</div>
        <div class="guide-content" id="topGuideText">
            --
        </div>
        <img class="guide-image" id="guideImage">
        <div class="guide-content" id="bottomGuideText">
            --
        </div>
        <button class="guide-btn" id="nextBtn">Next step</button>
    </div>
    <script>
        // Guide steps data
        const steps = [
            {
                header: 'Step 1',
                topText: '• Put your phone on a stable table at hip height​.\n• Use the front camera and make sure your whole body is visible in the screen.\n• Use strong chair without armrests or wheels​',
                bottomText: 'No armless chair? Use a safe chair for sitting and standing',
                img: './assets/sit_guide.png',
                imgAlt: 'Prepare Space'
            },
            {
                header: 'Step 2',
                topText: '• Sit on the chair​\n• Cross your arms on your chest ​\n• Keep your back straight and feet flat',
                bottomText: 'This position helps measure your strength accurately',
                img: './assets/stand_guide.png',
                imgAlt: 'Perform Test'
            },
            {
                header: 'Step 3',
                topText: 'At “Go”, stand up and sit down as many times as you can in 30 seconds. Keep arms crossed—don’t use them to help.',
                bottomText: 'Stop if you feel dizzy or unsafe. This measures your leg strength.',
                img: './assets/stand_guide.png',
                imgAlt: 'Perform Test'
            }
        ];
        let currentStep = 0;
        const guideHeader = document.getElementById('guideHeader');
        const guideTopText = document.getElementById('topGuideText');
        const guideBottomText = document.getElementById('bottomGuideText');
        const guideImage = document.getElementById('guideImage');
        const nextBtn = document.getElementById('nextBtn');
        // Initialize first step
        guideHeader.textContent = steps[currentStep].header;
        guideTopText.innerHTML = steps[currentStep].topText
            .replace(/\n/g, "<br>")
            .replace(/\*\*(.+?)\*\*/g, "<strong>$1</strong>");
        guideBottomText.innerHTML = steps[currentStep].bottomText
            .replace(/\n/g, "<br>")
            .replace(/\*\*(.+?)\*\*/g, "<strong>$1</strong>");
        guideImage.src = steps[currentStep].img;
        guideImage.alt = steps[currentStep].imgAlt;
        nextBtn.addEventListener('click', function () {
            currentStep++;
            if (currentStep < steps.length) {
                guideHeader.textContent = steps[currentStep].header;
                guideTopText.innerHTML = steps[currentStep].topText
                    .replace(/\n/g, "<br>")
                    .replace(/\*\*(.+?)\*\*/g, "<strong>$1</strong>");
                guideBottomText.innerHTML = steps[currentStep].bottomText
                    .replace(/\n/g, "<br>")
                    .replace(/\*\*(.+?)\*\*/g, "<strong>$1</strong>");
                guideImage.src = steps[currentStep].img;
                guideImage.alt = steps[currentStep].imgAlt;
                if (currentStep === steps.length - 1) {
                    nextBtn.textContent = 'Start scanning';
                }
            } else {
                window.location.href = 'camera.html';
            }
        });
    </script>
</body>

</html>